{% extends "base.html" %}

{% block content %}

<br><br>

<h1>{{ product.name }}</h1>
    <p>Price: ${{ product.price }}</p>
    <p>Description: {{ product.description }}</p>
    <p>Category: {{ product.category }}</p>
    <p>Average Rating: {{ product.prod_avg_rating }}</p>
    <img src="{{ product.image_path }}" alt="{{ product.name }} image"> 
    <br><br>
    <!-- Link back to home page or previous page -->
    <a href="{{ url_for('index.index') }}">Back to all products</a>

    <br><br>

<!-- Reviews Table -->
<h2>Reviews</h2>
<table>
    <thead>
        <tr>
            <th>User</th>
            <th>Review</th>
            <th>Upvotes</th>
        </tr>
    </thead>
    <tbody>
        {% for review in reviews %}
        <tr>
            <td>{{ review.user_id }}</td> <!-- Assuming user ID is part of the Review object -->
            <td>{{ review.description }}</td>  <!-- Assuming 'content' field holds the review text -->
            <td>{{ review.num_upvotes }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}